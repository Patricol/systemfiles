#!/usr/bin/env sh

# xrandr commands saved from arandr, formatted and with framerate added when necessary. (e.g. GPU doesn't support highest refresh rate.)

# NOTE: sometimes a monitor will be disconnected (even when plugged in and set to the right output; maybe because of sleeping?) and trying to configure all screens in one command will make everything fail.

case "$(cat /etc/hostname)" in
	fcdcbda)
		xrandr --output DP-2 --mode 3840x1080 # NOTE: to wake the monitor when it's stuck sleeping
		# xrandr \
		# 	--output DVI-I-1 --off \
		# 	--output DP-1    --mode 1920x1080 --pos 0x600     --rotate left --primary \
		# 	--output DP-2    --mode 5120x1440 --pos 1080x1080 --rotate normal --rate 59.98 \
		# 	--output DP-3    --mode 1920x1080 --pos 3640x0    --rotate inverted \
		# 	--output HDMI-1  --mode 1920x1080 --pos 1720x0    --rotate inverted
		xrandr --output DVI-I-1 --off
		xrandr --output DP-1    --mode 1920x1080 --pos 0x600     --rotate left --primary
		xrandr --output DP-2    --mode 5120x1440 --pos 1080x1080 --rotate normal --rate 59.98
		xrandr --output DP-3    --mode 1920x1080 --pos 3640x0    --rotate inverted
		xrandr --output HDMI-1  --mode 1920x1080 --pos 1720x0    --rotate inverted
		;;
	mojave-express)
		xrandr --output DisplayPort-0 --mode 2560x1080 --pos 2560x0 --rotate normal --output HDMI-0 --primary --mode 2560x1080 --pos 0x0 --rotate normal --output DVI-0 --off --output DVI-1 --off
		;;
	*)
		echo "setup-xrandr didn't recognize the hostname."
		;;
esac

true # NOTE: if script fails; lightdm will fail to start.
